{
  "name": "State-threads",
  "tagline": "Fork from http://sourceforge.net/projects/state-threads, patched for SRS.",
  "body": "state-threads\r\n=============\r\n\r\nFork from http://sourceforge.net/projects/state-threads, patched for [SRS](https://github.com/ossrs/srs/tree/2.0release).\r\n\r\n> See: https://github.com/ossrs/state-threads/blob/srs/README\r\n\r\n## Branch SRS\r\n\r\nThe branch [srs](https://github.com/ossrs/state-threads/tree/srs) will be patched the following patches:\r\n\r\n- [x] Patch [st.arm.patch](https://github.com/ossrs/srs/blob/2.0release/trunk/3rdparty/patches/1.st.arm.patch), for ARM.\r\n- [x] Patch [st.osx.kqueue.patch](https://github.com/ossrs/srs/blob/2.0release/trunk/3rdparty/patches/3.st.osx.kqueue.patch), for osx.\r\n- [x] Patch [st.disable.examples.patch](https://github.com/ossrs/srs/blob/2.0release/trunk/3rdparty/patches/4.st.disable.examples.patch), for ubuntu.\r\n- [x] [Refine TAB of code](https://github.com/ossrs/state-threads/compare/c2001d30ca58f55d72a6cc6b9b6c70391eaf14db...d2101b26988b0e0db0aabc53ddf452068c1e2cbc).\r\n- [x] Merge from [michaeltalyansky](https://github.com/michaeltalyansky/state-threads) and [xzh3836598](https://github.com/ossrs/state-threads/commit/9a17dec8f9c2814d93761665df7c5575a4d2d8a3), support [ARM](https://github.com/ossrs/state-threads/issues/1).\r\n- [x] Merge from [toffaletti](https://github.com/toffaletti/state-threads), support [valgrind](https://github.com/ossrs/state-threads/issues/2) for ST.\r\n\r\n## Usage\r\n\r\nFor Linux:\r\n\r\n```\r\nmake linux-debug EXTRA_CFLAGS=\"-DMD_HAVE_EPOLL\"\r\n```\r\n\r\nFor OSX:\r\n\r\n```\r\nmake darwin-debug EXTRA_CFLAGS=\"-DMD_HAVE_KQUEUE\"\r\n```\r\n\r\nLinux with valgrind:\r\n\r\n```\r\nmake linux-debug EXTRA_CFLAGS=\"-DMD_VALGRIND\"\r\n```\r\n\r\n> Remark: User must install valgrind, for instance, in centos6 `sudo yum install -y valgrind valgrind-devel`.\r\n\r\nLinux with valgrind and epoll:\r\n\r\n```\r\nmake linux-debug EXTRA_CFLAGS=\"-DMD_HAVE_EPOLL -DMD_VALGRIND\"\r\n```\r\n\r\nFor OSX, user must specifies the valgrind header files:\r\n\r\n```\r\nmake darwin-debug EXTRA_CFLAGS=\"-DMD_VALGRIND -I/usr/local/include\"\r\n```\r\n\r\n## Valgrind\r\n\r\nHow to debug with gdb under valgrind, read [valgrind manual](http://valgrind.org/docs/manual/manual-core-adv.html#manual-core-adv.gdbserver-simple).\r\n\r\nAbout startup parameters, read [valgrind cli](http://valgrind.org/docs/manual/mc-manual.html#mc-manual.options).\r\n\r\nImportant cli options:\r\n\r\n1. `--undef-value-errors=<yes|no> [default: yes]`, Controls whether Memcheck reports uses of undefined value errors. Set this to no if you don't want to see undefined value errors. It also has the side effect of speeding up Memcheck somewhat.\r\n1. `--leak-check=<no|summary|yes|full> [default: summary]`, When enabled, search for memory leaks when the client program finishes. If set to summary, it says how many leaks occurred. If set to full or yes, each individual leak will be shown in detail and/or counted as an error, as specified by the options `--show-leak-kinds` and `--errors-for-leak-kinds`.\r\n1. `--track-origins=<yes|no> [default: no]`, Controls whether Memcheck tracks the origin of uninitialised values. By default, it does not, which means that although it can tell you that an uninitialised value is being used in a dangerous way, it cannot tell you where the uninitialised value came from. This often makes it difficult to track down the root problem.\r\n1. `--show-reachable=<yes|no> , --show-possibly-lost=<yes|no>`, to show the using memory.\r\n\r\nWinlin 2016\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}